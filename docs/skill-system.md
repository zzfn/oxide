# æŠ€èƒ½ç³»ç»Ÿå®ç°è¯¦è§£

## ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [æŠ€èƒ½åŠ è½½](#æŠ€èƒ½åŠ è½½)
- [æŠ€èƒ½æ ¼å¼](#æŠ€èƒ½æ ¼å¼)
- [æŠ€èƒ½æ‰§è¡Œ](#æŠ€èƒ½æ‰§è¡Œ)
- [æŠ€èƒ½ç®¡ç†](#æŠ€èƒ½ç®¡ç†)
- [å†…ç½®æŠ€èƒ½](#å†…ç½®æŠ€èƒ½)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [æ‰©å±•å¼€å‘](#æ‰©å±•å¼€å‘)

## ç³»ç»Ÿæ¦‚è¿°

Oxide çš„æŠ€èƒ½ç³»ç»Ÿæ˜¯ä¸€ä¸ªçµæ´»çš„å¯é‡ç”¨å‘½ä»¤æ¨¡æ¿ç³»ç»Ÿï¼Œå…è®¸ç”¨æˆ·åˆ›å»ºã€ç®¡ç†å’Œæ‰§è¡Œè‡ªå®šä¹‰å‘½ä»¤æ¨¡æ¿ã€‚æŠ€èƒ½ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚åŠ è½½æœºåˆ¶ï¼Œæ”¯æŒæœ¬åœ°ã€å…¨å±€å’Œå†…ç½®æŠ€èƒ½ï¼Œä¸ºç”¨æˆ·æä¾›äº†å¼ºå¤§çš„å‘½ä»¤æŠ½è±¡èƒ½åŠ›ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **åˆ†å±‚åŠ è½½**: æ”¯æŒæœ¬åœ°ã€å…¨å±€ã€å†…ç½®ä¸‰ä¸ªæŠ€èƒ½æ¥æº
- **æ¨¡æ¿å¼•æ“**: æ”¯æŒå‚æ•°åŒ–æ¨¡æ¿å’Œå˜é‡æ›¿æ¢
- **çµæ´»å‚æ•°**: æ”¯æŒå¿…éœ€å‚æ•°ã€å¯é€‰å‚æ•°å’Œé»˜è®¤å€¼
- **ä¼˜å…ˆçº§è¦†ç›–**: æœ¬åœ°æŠ€èƒ½å¯è¦†ç›–å…¨å±€å’Œå†…ç½®æŠ€èƒ½
- **ç¼“å­˜æœºåˆ¶**: é«˜æ•ˆçš„æŠ€èƒ½åŠ è½½å’Œç¼“å­˜
- **æ˜“äºæ‰©å±•**: é€šè¿‡æ·»åŠ  Markdown æ–‡ä»¶å³å¯åˆ›å»ºæ–°æŠ€èƒ½

## æ¶æ„è®¾è®¡

### ç³»ç»Ÿç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      CLI å±‚                         â”‚
â”‚  - å‘½ä»¤è§¦å‘                         â”‚
â”‚  - å‚æ•°è§£æ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æŠ€èƒ½ç®¡ç†å™¨ (SkillManager)        â”‚
â”‚  - æŠ€èƒ½ç¼“å­˜                         â”‚
â”‚  - æŠ€èƒ½æŸ¥è¯¢                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æŠ€èƒ½åŠ è½½å™¨ (SkillLoader)         â”‚
â”‚  - æœ¬åœ°æŠ€èƒ½                         â”‚
â”‚  - å…¨å±€æŠ€èƒ½                         â”‚
â”‚  - å†…ç½®æŠ€èƒ½                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æŠ€èƒ½æ‰§è¡Œå™¨ (SkillExecutor)       â”‚
â”‚  - å‚æ•°è§£æ                         â”‚
â”‚  - æ¨¡æ¿æ¸²æŸ“                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®ç»“æ„

```rust
/// æŠ€èƒ½å®šä¹‰
pub struct Skill {
    pub name: String,              // æŠ€èƒ½åç§°
    pub description: String,       // æŠ€èƒ½æè¿°
    pub template: String,          // æ¨¡æ¿å†…å®¹
    pub args: Vec<SkillArg>,       // å‚æ•°åˆ—è¡¨
    pub source: SkillSource,       // æ¥æºæ ‡è¯†
}

/// æŠ€èƒ½å‚æ•°
pub struct SkillArg {
    pub name: String,              // å‚æ•°åç§°
    pub description: String,       // å‚æ•°æè¿°
    pub required: bool,            // æ˜¯å¦å¿…éœ€
    pub default: Option<String>,   // é»˜è®¤å€¼
}

/// æŠ€èƒ½æ¥æº
pub enum SkillSource {
    BuiltIn,   // å†…ç½®æŠ€èƒ½
    Global,    // å…¨å±€æŠ€èƒ½ (~/.oxide/skills/)
    Local,     // æœ¬åœ°æŠ€èƒ½ (.oxide/skills/)
}
```

## æŠ€èƒ½åŠ è½½

### åŠ è½½ä¼˜å…ˆçº§

æŠ€èƒ½ç³»ç»Ÿé‡‡ç”¨ä¸‰å±‚åŠ è½½æœºåˆ¶ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼š

1. **æœ¬åœ°æŠ€èƒ½** (`.oxide/skills/`) - æœ€é«˜ä¼˜å…ˆçº§
2. **å…¨å±€æŠ€èƒ½** (`~/.oxide/skills/`)
3. **å†…ç½®æŠ€èƒ½** (ä»£ç ä¸­ç¡¬ç¼–ç ) - æœ€ä½ä¼˜å…ˆçº§

é«˜ä¼˜å…ˆçº§çš„æŠ€èƒ½ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„åŒåæŠ€èƒ½ã€‚

### åŠ è½½æµç¨‹

```rust
impl SkillLoader {
    pub fn load_all(&self) -> Result<HashMap<String, Skill>> {
        let mut skills = HashMap::new();

        // 1. å…ˆåŠ è½½å†…ç½®æŠ€èƒ½ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰
        self.load_built_in_skills(&mut skills)?;

        // 2. åŠ è½½å…¨å±€æŠ€èƒ½
        if self.global_dir.exists() {
            self.load_skills_from_dir(
                &self.global_dir,
                &mut skills,
                SkillSource::Global
            )?;
        }

        // 3. åŠ è½½æœ¬åœ°æŠ€èƒ½ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼Œå¯è¦†ç›–ï¼‰
        if self.local_dir.exists() {
            self.load_skills_from_dir(
                &self.local_dir,
                &mut skills,
                SkillSource::Local
            )?;
        }

        Ok(skills)
    }

    fn load_skills_from_dir(
        &self,
        dir: &Path,
        skills: &mut HashMap<String, Skill>,
        source: SkillSource,
    ) -> Result<()> {
        // è¯»å–ç›®å½•ä¸­çš„æ‰€æœ‰ .md æ–‡ä»¶
        for entry in fs::read_dir(dir)? {
            let entry = entry?;
            let path = entry.path();

            if path.extension().and_then(|s| s.to_str()) == Some("md") {
                // è§£ææŠ€èƒ½æ–‡ä»¶
                let skill = self.parse_skill_file(&path, source)?;
                skills.insert(skill.name.clone(), skill);
            }
        }

        Ok(())
    }
}
```

### ç¼“å­˜æœºåˆ¶

ä½¿ç”¨ `once_cell` å’Œ `RwLock` å®ç°çº¿ç¨‹å®‰å…¨çš„ç¼“å­˜ï¼š

```rust
use once_cell::sync::Lazy;
use std::sync::RwLock;

static SKILL_CACHE: Lazy<RwLock<HashMap<String, Skill>>> =
    Lazy::new(|| RwLock::new(HashMap::new()));

impl SkillManager {
    pub fn init(&self) -> Result<()> {
        // åŠ è½½æ‰€æœ‰æŠ€èƒ½
        let skills = self.loader.load_all()?;

        // æ›´æ–°ç¼“å­˜
        let mut cache = SKILL_CACHE.write().unwrap();
        *cache = skills;

        Ok(())
    }

    pub fn get_skill(&self, name: &str) -> Option<Skill> {
        let cache = SKILL_CACHE.read().unwrap();
        cache.get(name).cloned()
    }

    pub fn reload(&self) -> Result<()> {
        // é‡æ–°åŠ è½½æŠ€èƒ½
        self.init()
    }
}
```

## æŠ€èƒ½æ ¼å¼

### æ–‡ä»¶æ ¼å¼

æŠ€èƒ½æ–‡ä»¶ä½¿ç”¨ **Markdown + YAML Front Matter** æ ¼å¼ï¼š

```markdown
---
name: skill-name
description: æŠ€èƒ½çš„ç®€çŸ­æè¿°
args:
  - name: param1
    description: ç¬¬ä¸€ä¸ªå‚æ•°
    required: true
  - name: param2
    description: ç¬¬äºŒä¸ªå‚æ•°
    required: false
    default: "default_value"
---

è¿™é‡Œæ˜¯æŠ€èƒ½çš„æ¨¡æ¿å†…å®¹ã€‚
ä½¿ç”¨ {{param1}} å’Œ {{param2}} ä½œä¸ºå ä½ç¬¦ã€‚

ç”¨æˆ·æä¾›çš„å†…å®¹ï¼š{{param1}} å’Œ {{param2}}
```

### Front Matter å­—æ®µ

| å­—æ®µ | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|-----|------|------|------|
| `name` | String | âœ… | æŠ€èƒ½åç§°ï¼ˆç”¨äº `/skill-name` è°ƒç”¨ï¼‰ |
| `description` | String | âœ… | æŠ€èƒ½æè¿°ï¼ˆæ˜¾ç¤ºåœ¨æŠ€èƒ½åˆ—è¡¨ä¸­ï¼‰ |
| `args` | Array | âŒ | å‚æ•°åˆ—è¡¨ |
| `args[].name` | String | âœ… | å‚æ•°åç§° |
| `args[].description` | String | âœ… | å‚æ•°æè¿° |
| `args[].required` | Boolean | âœ… | æ˜¯å¦å¿…éœ€å‚æ•° |
| `args[].default` | String | âŒ | é»˜è®¤å€¼ï¼ˆä»…å¯é€‰å‚æ•°ï¼‰ |

### æ¨¡æ¿è¯­æ³•

ä½¿ç”¨ç®€å•çš„ `{{variable}}` è¯­æ³•è¿›è¡Œå˜é‡æ›¿æ¢ï¼š

```markdown
åˆ†æ {{file}} ä¸­çš„ä»£ç ï¼Œé‡ç‚¹å…³æ³¨ï¼š
- {{focus_area}}
- ä½¿ç”¨ {{language}} è¯­è¨€æœ€ä½³å®è·µ

è¯·æä¾›è¯¦ç»†çš„åé¦ˆã€‚
```

## æŠ€èƒ½æ‰§è¡Œ

### å‚æ•°è§£æ

æ”¯æŒå¤šç§å‚æ•°æ ¼å¼ï¼š

```rust
fn parse_args(skill: &Skill, args_str: &str) -> Result<HashMap<String, String>> {
    let mut args = HashMap::new();

    // è§£æå¸¦å¼•å·çš„å‚æ•°ï¼š-m "Hello World"
    let re_quoted = Regex::new(r#"(-\w+|--\w+)\s+"([^"]+)""#)?;
    for cap in re_quoted.captures_iter(args_str) {
        let key = cap[1].trim_start_matches('-').to_string();
        let value = cap[2].to_string();
        args.insert(key, value);
    }

    // è§£æä¸å¸¦å¼•å·çš„å‚æ•°ï¼š-m hello
    let re_simple = Regex::new(r#"(-\w+|--\w+)\s+(\S+)"#)?;
    for cap in re_simple.captures_iter(args_str) {
        let key = cap[1].trim_start_matches('-').to_string();
        let value = cap[2].to_string();
        args.entry(key).or_insert(value);
    }

    // åº”ç”¨é»˜è®¤å€¼
    for arg in &skill.args {
        if !args.contains_key(&arg.name) {
            if let Some(default) = &arg.default {
                args.insert(arg.name.clone(), default.clone());
            } else if arg.required {
                bail!("ç¼ºå°‘å¿…éœ€å‚æ•°: --{}", arg.name);
            }
        }
    }

    Ok(args)
}
```

### æ¨¡æ¿æ¸²æŸ“

```rust
fn render_template(template: &str, args: &HashMap<String, String>) -> String {
    let mut rendered = template.to_string();

    for (key, value) in args {
        let placeholder = format!("{{{{{}}}}}", key);
        rendered = rendered.replace(&placeholder, value);
    }

    rendered
}
```

### æ‰§è¡Œæµç¨‹

```rust
impl SkillExecutor {
    pub fn execute(skill: &Skill, args_str: &str) -> Result<String> {
        // 1. è§£æå‚æ•°
        let args = parse_args(skill, args_str)?;

        // 2. æ¸²æŸ“æ¨¡æ¿
        let rendered = render_template(&skill.template, &args);

        // 3. è¿”å›æ¸²æŸ“åçš„æç¤ºè¯
        Ok(rendered)
    }
}
```

### CLI é›†æˆ

```rust
impl OxideCli {
    async fn try_execute_skill(&mut self, input: &str) -> Result<bool> {
        // è§£æå‘½ä»¤ï¼š/skillname [args...]
        let parts: Vec<&str> = input.splitn(2, ' ').collect();
        let skill_name = parts[0].strip_prefix('/')
            .ok_or_else(|| anyhow!("æ— æ•ˆçš„æŠ€èƒ½å‘½ä»¤"))?;

        let args_str = parts.get(1).unwrap_or(&"");

        // è·å–æŠ€èƒ½
        let skill = self.skill_manager
            .get_skill(skill_name)
            .ok_or_else(|| anyhow!("æŠ€èƒ½ä¸å­˜åœ¨: {}", skill_name))?;

        // æ‰§è¡ŒæŠ€èƒ½
        let rendered_prompt = SkillExecutor::execute(&skill, args_str)?;

        // æ·»åŠ åˆ°ä¸Šä¸‹æ–‡
        self.context_manager
            .add_message(Message::user(&rendered_prompt));

        // æ‰§è¡Œ AI å¤„ç†
        self.process_ai_response().await?;

        Ok(true)
    }
}
```

## æŠ€èƒ½ç®¡ç†

### åˆ—å‡ºæŠ€èƒ½

```bash
/skills list
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
å¯ç”¨æŠ€èƒ½ï¼š

ğŸ”§ commit - åˆ›å»ºç¬¦åˆ Conventional Commits è§„èŒƒçš„ git commit
ğŸ”§ compact - å‹ç¼©å½“å‰ä¼šè¯ï¼Œåˆ›å»ºæ‘˜è¦
ğŸ”§ review - å®¡æŸ¥ä»£ç å¹¶æä¾›åé¦ˆ
ğŸŒ my-custom-skill - æˆ‘çš„è‡ªå®šä¹‰å…¨å±€æŠ€èƒ½
ğŸ“ project-skill - é¡¹ç›®ç‰¹å®šæŠ€èƒ½
```

### æŸ¥çœ‹æŠ€èƒ½è¯¦æƒ…

```bash
/skills show commit
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
æŠ€èƒ½: commit
æè¿°: åˆ›å»ºç¬¦åˆ Conventional Commits è§„èŒƒçš„ git commit
æ¥æº: ğŸ”§ å†…ç½®

å‚æ•°:
  -m, --message: Commit æ¶ˆæ¯ (å¿…éœ€)

ä½¿ç”¨ç¤ºä¾‹:
  /commit -m "feat: add new feature"
```

### é‡è½½æŠ€èƒ½

```bash
/skills reload
```

é‡æ–°åŠ è½½æ‰€æœ‰æŠ€èƒ½æ–‡ä»¶ï¼Œæ›´æ–°ç¼“å­˜ã€‚

## å†…ç½®æŠ€èƒ½

### commit - Git æäº¤

åˆ›å»ºç¬¦åˆ Conventional Commits è§„èŒƒçš„ Git æäº¤ã€‚

**å‚æ•°**:
- `-m, --message`: Commit æ¶ˆæ¯ï¼ˆå¿…éœ€ï¼‰

**ç¤ºä¾‹**:
```bash
/commit -m "feat: add user authentication"
/commit -m "fix: resolve memory leak"
```

### compact - ä¼šè¯å‹ç¼©

å‹ç¼©å½“å‰ä¼šè¯ï¼Œåˆ›å»ºæ‘˜è¦ä»¥èŠ‚çœ tokensã€‚

**å‚æ•°**: æ— 

**ç¤ºä¾‹**:
```bash
/compact
```

### review - ä»£ç å®¡æŸ¥

å®¡æŸ¥ä»£ç å¹¶æä¾›åé¦ˆã€‚

**å‚æ•°**:
- æ— ï¼ˆä¼šè‡ªåŠ¨åˆ†æå½“å‰ä¸Šä¸‹æ–‡ï¼‰

**ç¤ºä¾‹**:
```bash
/review
```

## ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæœ¬åœ°æŠ€èƒ½

1. **åˆ›å»ºæŠ€èƒ½ç›®å½•**:
```bash
mkdir -p .oxide/skills
```

2. **åˆ›å»ºæŠ€èƒ½æ–‡ä»¶**:
```bash
cat > .oxide/skills/code-analysis.md << 'EOF'
---
name: analyze
description: æ·±å…¥åˆ†æä»£ç ç»“æ„å’Œè´¨é‡
args:
  - name: file
    description: è¦åˆ†æçš„æ–‡ä»¶è·¯å¾„
    required: true
  - name: focus
    description: åˆ†æé‡ç‚¹ï¼ˆå¦‚ï¼šperformance, security, readabilityï¼‰
    required: false
    default: "general"
---

è¯·æ·±å…¥åˆ†æ {{file}} çš„ä»£ç ç»“æ„å’Œè´¨é‡ã€‚

é‡ç‚¹å…³æ³¨ï¼š{{focus}}

è¯·æä¾›ï¼š
1. æ•´ä½“æ¶æ„è¯„ä¼°
2. ä»£ç è´¨é‡åˆ†æ
3. æ½œåœ¨é—®é¢˜è¯†åˆ«
4. æ”¹è¿›å»ºè®®
EOF
```

3. **ä½¿ç”¨æŠ€èƒ½**:
```bash
# é‡è½½æŠ€èƒ½
/skills reload

# ä½¿ç”¨æŠ€èƒ½
/analyze -file "src/main.rs" -focus "performance"
```

### åˆ›å»ºå…¨å±€æŠ€èƒ½

å…¨å±€æŠ€èƒ½åœ¨æ‰€æœ‰é¡¹ç›®ä¸­å¯ç”¨ï¼š

```bash
# åˆ›å»ºå…¨å±€æŠ€èƒ½ç›®å½•
mkdir -p ~/.oxide/skills

# åˆ›å»ºæŠ€èƒ½æ–‡ä»¶
cat > ~/.oxide/skills/deploy.md << 'EOF'
---
name: deploy
description: éƒ¨ç½²åº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒ
args:
  - name: env
    description: éƒ¨ç½²ç¯å¢ƒ
    required: true
  - name: branch
    description: è¦éƒ¨ç½²çš„åˆ†æ”¯
    required: false
    default: "main"
---

æ‰§è¡Œä»¥ä¸‹éƒ¨ç½²æ­¥éª¤ï¼š

1. åˆ‡æ¢åˆ° {{branch}} åˆ†æ”¯
2. è¿è¡Œæµ‹è¯•å¥—ä»¶
3. æ„å»ºåº”ç”¨
4. éƒ¨ç½²åˆ° {{env}} ç¯å¢ƒ
5. éªŒè¯éƒ¨ç½²çŠ¶æ€

è¯·è¯¦ç»†æŠ¥å‘Šæ¯ä¸ªæ­¥éª¤çš„ç»“æœã€‚
EOF
```

### æŠ€èƒ½å‚æ•°æŠ€å·§

**å¿…éœ€å‚æ•°**:
```yaml
args:
  - name: file
    description: æ–‡ä»¶è·¯å¾„
    required: true
```

**å¯é€‰å‚æ•°å¸¦é»˜è®¤å€¼**:
```yaml
args:
  - name: language
    description: ç¼–ç¨‹è¯­è¨€
    required: false
    default: "rust"
```

**å¤šå€¼å‚æ•°**ï¼ˆç”¨ç©ºæ ¼åˆ†éš”ï¼‰:
```bash
/skill -files "file1.rs file2.rs file3.rs"
```

## æ‰©å±•å¼€å‘

### é«˜çº§æ¨¡æ¿æŠ€å·§

**æ¡ä»¶å†…å®¹**ï¼ˆé€šè¿‡å‚æ•°æ§åˆ¶ï¼‰:
```markdown
---
args:
  - name: verbose
    description: è¯¦ç»†è¾“å‡º
    required: false
    default: "false"
---

{{#if verbose}}
è¯·æä¾›è¯¦ç»†çš„åˆ†æï¼ŒåŒ…æ‹¬ï¼š
- æ¯ä¸ªå‡½æ•°çš„å¤æ‚åº¦
- æ‰€æœ‰æ½œåœ¨çš„æ€§èƒ½é—®é¢˜
- è¯¦ç»†çš„æ”¹è¿›å»ºè®®
{{/if}}

{{#unless verbose}}
è¯·æä¾›ç®€æ´çš„æ€»ç»“ã€‚
{{/unless}}
```

**å¤šè¡Œæ¨¡æ¿**:
```markdown
---
name: refactor
description: é‡æ„ä»£ç 
args:
  - name: file
    required: true
---

è¯·é‡æ„ {{file}}ï¼š

è¦æ±‚ï¼š
1. æé«˜ä»£ç å¯è¯»æ€§
2. æ”¹å–„æ€§èƒ½
3. éµå¾ª SOLID åŸåˆ™
4. ä¿æŒåŠŸèƒ½ä¸å˜

è¯·å…ˆå±•ç¤ºé‡æ„è®¡åˆ’ï¼Œç„¶åå®æ–½é‡æ„ã€‚
```

### æŠ€èƒ½ç»„åˆ

ä¸€ä¸ªæŠ€èƒ½å¯ä»¥å¼•ç”¨å¦ä¸€ä¸ªæŠ€èƒ½ï¼š

```markdown
---
name: full-review
description: å®Œæ•´çš„ä»£ç å®¡æŸ¥æµç¨‹
args:
  - name: file
    required: true
---

é¦–å…ˆæ‰§è¡Œä»£ç åˆ†æï¼š
/analyze -file {{file}} -focus security

ç„¶åæ‰§è¡Œä»£ç å®¡æŸ¥ï¼š
/review

æœ€åæä¾›æ”¹è¿›å»ºè®®ã€‚
```

### æŠ€èƒ½æµ‹è¯•

å»ºè®®ä¸ºæŠ€èƒ½åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼š

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_commit_skill_parsing() {
        let content = r#"
---
name: commit
description: Create a commit
args:
  - name: m
    required: true
---
Commit template
"#;

        let skill = parse_skill(content).unwrap();
        assert_eq!(skill.name, "commit");
        assert_eq!(skill.args.len(), 1);
        assert_eq!(skill.args[0].name, "m");
    }
}
```

## æœ€ä½³å®è·µ

### æŠ€èƒ½è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£**: æ¯ä¸ªæŠ€èƒ½åªåšä¸€ä»¶äº‹
2. **æ¸…æ™°å‘½å**: ä½¿ç”¨æè¿°æ€§çš„æŠ€èƒ½åç§°
3. **å‚æ•°åŒ–**: ä½¿ç”¨å‚æ•°æé«˜æŠ€èƒ½çµæ´»æ€§
4. **æ–‡æ¡£åŒ–**: æä¾›æ¸…æ™°çš„å‚æ•°è¯´æ˜å’Œç¤ºä¾‹
5. **æ¸è¿›å¼**: ä»ç®€å•æŠ€èƒ½å¼€å§‹ï¼Œé€æ­¥å¢åŠ å¤æ‚åº¦

### æŠ€èƒ½ç»„ç»‡

```
.oxide/skills/
â”œâ”€â”€ git/           # Git ç›¸å…³æŠ€èƒ½
â”‚   â”œâ”€â”€ commit.md
â”‚   â””â”€â”€ pr.md
â”œâ”€â”€ code/          # ä»£ç ç›¸å…³æŠ€èƒ½
â”‚   â”œâ”€â”€ analyze.md
â”‚   â”œâ”€â”€ refactor.md
â”‚   â””â”€â”€ test.md
â””â”€â”€ deploy/        # éƒ¨ç½²ç›¸å…³æŠ€èƒ½
    â”œâ”€â”€ staging.md
    â””â”€â”€ production.md
```

### æ€§èƒ½ä¼˜åŒ–

1. **ä½¿ç”¨ç¼“å­˜**: æŠ€èƒ½åŠ è½½åä¼šè¢«ç¼“å­˜ï¼Œæ— éœ€é‡å¤åŠ è½½
2. **é¿å…å¾ªç¯å¼•ç”¨**: æŠ€èƒ½ä¸åº”å¼•ç”¨è‡ªèº«
3. **é™åˆ¶å‚æ•°æ•°é‡**: è¿‡å¤šå‚æ•°ä¼šå½±å“ç”¨æˆ·ä½“éªŒ
4. **æ¨¡æ¿ç®€æ´**: ä¿æŒæ¨¡æ¿ç®€æ´æ˜äº†

## ç›¸å…³æ–‡æ¡£

- [Agent ç³»ç»Ÿ](./agent-system.md) - Agent ä¸æŠ€èƒ½çš„é›†æˆ
- [å·¥å…·ç³»ç»Ÿ](./tool-system.md) - å·¥å…·è°ƒç”¨æœºåˆ¶
- [æ•´ä½“æ¶æ„](./architecture.md) - é¡¹ç›®æ¶æ„æ€»è§ˆ
